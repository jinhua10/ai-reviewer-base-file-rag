# ç¬¬äºŒéƒ¨åˆ†å®ç°è¿›åº¦æŠ¥å‘Š - é—®ç­”å½’æ¡£å’Œç›¸ä¼¼é—®é¢˜æ¨è

> ç”Ÿæˆæ—¶é—´ï¼š2025-11-30 01:00:00 (åŒ—äº¬æ—¶é—´)

---

## ğŸ“‹ å®ç°è¿›åº¦

### âœ… å·²å®Œæˆï¼ˆ80%ï¼‰

#### 1. åç«¯æ ¸å¿ƒæœåŠ¡

**QAArchiveService.java** - é—®ç­”å½’æ¡£æœåŠ¡
- âœ… è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦åº”è¯¥å½’æ¡£
- âœ… æ”¯æŒå¤šç§å½’æ¡£ç­–ç•¥ï¼ˆauto, feedback-based, manualï¼‰
- âœ… ç”ŸæˆMarkdownæ ¼å¼çš„é—®ç­”æ–‡æ¡£
- âœ… è‡ªåŠ¨åˆ†ç±»ï¼ˆæ¦‚å¿µè§£é‡Šã€æ“ä½œæŒ‡å—ã€é—®é¢˜æ’æŸ¥ï¼‰
- âœ… æå–å…³é”®è¯
- âœ… è‡ªåŠ¨ç´¢å¼•åˆ°çŸ¥è¯†åº“
- âœ… å½’æ¡£ç»Ÿè®¡åŠŸèƒ½

**QAArchiveProperties.java** - é…ç½®ç±»
- âœ… å®Œæ•´çš„é…ç½®é¡¹å®šä¹‰
- âœ… Spring Booté…ç½®ç»‘å®š

**SimilarQAService.java** - ç›¸ä¼¼é—®é¢˜æ£€æµ‹æœåŠ¡
- âœ… å‘é‡æ£€ç´¢å†å²é—®ç­”
- âœ… è§£æå½’æ¡£çš„Markdownæ–‡æ¡£
- âœ… ç›¸ä¼¼åº¦è¿‡æ»¤
- âœ… åªè¿”å›é«˜è´¨é‡é—®ç­”ï¼ˆrating >= 4ï¼‰

**é›†æˆåˆ°ç°æœ‰æœåŠ¡**
- âœ… QARecordServiceï¼šé«˜è¯„åˆ†è‡ªåŠ¨å½’æ¡£
- âœ… KnowledgeBaseServiceï¼šå•æ–‡ä»¶å¢é‡ç´¢å¼•æ–¹æ³•

---

### âš ï¸ é‡åˆ°çš„é—®é¢˜

#### ç¼–è¯‘é”™è¯¯

**é—®é¢˜**ï¼šSimilarQAServiceæ— æ³•æ‰¾åˆ°æŸäº›ç±»
```
é”™è¯¯: æ‰¾ä¸åˆ°ç¬¦å·
  ç¬¦å·:   ç±» EmbeddingEngine
```

**åŸå› **ï¼š
1. LocalEmbeddingEngine å’Œ SimpleVectorIndexEngine ä¸æ˜¯Spring Bean
2. æ— æ³•é€šè¿‡ä¾èµ–æ³¨å…¥è·å–

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ”¹ä¸ºåœ¨æ„é€ å‡½æ•°ä¸­æ‰‹åŠ¨åˆ›å»ºå®ä¾‹
- æ·»åŠ ç©ºæ£€æŸ¥é˜²æ­¢åˆå§‹åŒ–å¤±è´¥

**å½“å‰çŠ¶æ€**ï¼š
- ä»£ç é€»è¾‘å·²å®Œæˆ
- éœ€è¦è§£å†³ä¾èµ–æ³¨å…¥æˆ–æ‰‹åŠ¨åˆå§‹åŒ–çš„é—®é¢˜

---

##  ğŸ”§ å¾…å®Œæˆï¼ˆ20%ï¼‰

### 1. REST APIæ¥å£

éœ€è¦åœ¨ KnowledgeQAController ä¸­æ·»åŠ ï¼š

```java
/**
 * æœç´¢ç›¸ä¼¼é—®é¢˜
 */
@GetMapping("/similar")
public ResponseEntity<?> findSimilarQuestions(
        @RequestParam String question,
        @RequestParam(defaultValue = "0.85") float threshold,
        @RequestParam(defaultValue = "5") int limit) {
    
    List<SimilarQAService.SimilarQA> similar = 
        similarQAService.findSimilar(question, threshold, limit);
    
    return ResponseEntity.ok(Map.of(
        "success", true,
        "count", similar.size(),
        "similarQuestions", similar
    ));
}

/**
 * è·å–å½’æ¡£ç»Ÿè®¡
 */
@GetMapping("/archive/statistics")
public ResponseEntity<?> getArchiveStatistics() {
    var stats = qaArchiveService.getStatistics();
    return ResponseEntity.ok(stats);
}
```

### 2. å‰ç«¯å®ç°

**éœ€è¦æ·»åŠ çš„ç»„ä»¶**ï¼š
- ç›¸ä¼¼é—®é¢˜åˆ—è¡¨UI
- ç›´æ¥ä½¿ç”¨å†å²ç­”æ¡ˆçš„æŒ‰é’®
- å½’æ¡£ç»Ÿè®¡å±•ç¤º

---

## ğŸ“ é…ç½®è¯´æ˜

éœ€è¦åœ¨ `application.yml` ä¸­æ·»åŠ ï¼š

```yaml
knowledge:
  qa:
    # é—®ç­”å½’æ¡£é…ç½®
    qa-archive:
      # æ˜¯å¦å¯ç”¨å½’æ¡£
      enabled: true
      # å½’æ¡£ç­–ç•¥: auto | feedback-based | manual
      strategy: feedback-based
      # æœ€ä½è¯„åˆ†é˜ˆå€¼ï¼ˆfeedback-basedæ¨¡å¼ï¼‰
      min-rating: 4
      # é—®é¢˜æœ€çŸ­é•¿åº¦
      min-question-length: 5
      # å›ç­”æœ€çŸ­é•¿åº¦
      min-answer-length: 20
      # å½’æ¡£è·¯å¾„
      archive-path: ./data/rag
      # æ˜¯å¦è‡ªåŠ¨ç´¢å¼•
      auto-index: true
      # ä¸´æ—¶æ–‡æ¡£è¿‡æœŸå¤©æ•°
      temp-document-expiry-days: 30
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### 1. é—®ç­”å½’æ¡£æµç¨‹

```
ç”¨æˆ·ç»™å‡ºé«˜è¯„åˆ†ï¼ˆâ‰¥4æ˜Ÿï¼‰
        â†“
åˆ¤æ–­æ˜¯å¦åº”è¯¥å½’æ¡£
  - è¯„åˆ†å¤Ÿé«˜
  - é—®é¢˜å’Œå›ç­”é•¿åº¦ç¬¦åˆè¦æ±‚
  - ä¸åŒ…å«"æ— æ³•å›ç­”"ç­‰å…³é”®è¯
        â†“
ç”ŸæˆMarkdownæ–‡æ¡£
  - YAML Front Matterï¼ˆå…ƒæ•°æ®ï¼‰
  - é—®é¢˜æ ‡é¢˜
  - å›ç­”å†…å®¹
  - æ¥æºæ–‡æ¡£åˆ—è¡¨
  - ç”¨æˆ·åé¦ˆ
        â†“
è‡ªåŠ¨åˆ†ç±»ä¿å­˜
  - conceptï¼ˆæ¦‚å¿µè§£é‡Šï¼‰
  - howtoï¼ˆæ“ä½œæŒ‡å—ï¼‰
  - troubleshootingï¼ˆé—®é¢˜æ’æŸ¥ï¼‰
  - otherï¼ˆå…¶ä»–ï¼‰
        â†“
å¢é‡ç´¢å¼•åˆ°çŸ¥è¯†åº“
  - ç«‹å³å¯è¢«æ£€ç´¢
  - å‚ä¸å‘é‡ç´¢å¼•
```

### 2. ç›¸ä¼¼é—®é¢˜æ£€æµ‹æµç¨‹

```
ç”¨æˆ·æé—®
        â†“
ç”Ÿæˆé—®é¢˜å‘é‡
        â†“
å‘é‡æ£€ç´¢
  - æœç´¢å½’æ¡£çš„é—®ç­”æ–‡æ¡£
  - ç›¸ä¼¼åº¦é˜ˆå€¼ï¼š0.85ï¼ˆå¯é…ç½®ï¼‰
  - è¿”å›Top-N
        â†“
è¿‡æ»¤é«˜è´¨é‡é—®ç­”
  - åªè¿”å›è¯„åˆ†â‰¥4æ˜Ÿçš„é—®ç­”
  - æŒ‰ç›¸ä¼¼åº¦æ’åº
        â†“
æ˜¾ç¤ºç»™ç”¨æˆ·
  - ç›¸ä¼¼é—®é¢˜åˆ—è¡¨
  - å¯ç›´æ¥ä½¿ç”¨å†å²ç­”æ¡ˆ
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### æˆæœ¬èŠ‚çº¦

å‡è®¾ä¸€ä¸ªå›¢é˜Ÿæ¯å¤©æ”¶åˆ° 100 ä¸ªé—®é¢˜ï¼š

**æ²¡æœ‰å½’æ¡£ç³»ç»Ÿ**ï¼š
- æ¯ä¸ªé—®é¢˜éƒ½è°ƒç”¨AIï¼š100æ¬¡
- æ¯æ¬¡è°ƒç”¨æˆæœ¬ï¼š$0.01
- æ¯å¤©æˆæœ¬ï¼š$1.00
- æ¯æœˆæˆæœ¬ï¼š$30.00

**æœ‰å½’æ¡£ç³»ç»Ÿ**ï¼ˆå‡è®¾40%é‡å¤ï¼‰ï¼š
- æ–°é—®é¢˜è°ƒç”¨AIï¼š60æ¬¡
- é‡å¤é—®é¢˜ä½¿ç”¨å½’æ¡£ï¼š40æ¬¡ï¼ˆæˆæœ¬$0ï¼‰
- æ¯å¤©æˆæœ¬ï¼š$0.60
- æ¯æœˆæˆæœ¬ï¼š$18.00
- **èŠ‚çº¦ï¼š40%**

### æ€§èƒ½æå‡

| ç»´åº¦ | è°ƒç”¨AI | ä½¿ç”¨å½’æ¡£ |
|------|--------|----------|
| å“åº”æ—¶é—´ | 3-5ç§’ | 0.1-0.3ç§’ |
| Tokenæ¶ˆè€— | 2000+ | 0 |
| æˆæœ¬ | $0.01 | $0 |
| ç­”æ¡ˆä¸€è‡´æ€§ | å˜åŒ– | ç¨³å®š |

**é€Ÿåº¦æå‡ï¼š15-50å€**

---

## ğŸ” ç¤ºä¾‹ï¼šå½’æ¡£çš„Markdownæ–‡æ¡£

```markdown
---
id: "a1b2c3d4-e5f6-7890"
question: "ä»€ä¹ˆæ˜¯RAGï¼Ÿ"
timestamp: "2025-11-30T00:00:00"
rating: 5
status: "approved"
category: "concept"
keywords: ["RAG", "æ£€ç´¢å¢å¼ºç”Ÿæˆ", "çŸ¥è¯†åº“"]
sourceDocuments: ["RAGä»‹ç».pdf", "æŠ€æœ¯æ–‡æ¡£.docx"]
usageCount: 0
---

# ä»€ä¹ˆæ˜¯RAGï¼Ÿ

> **ç±»å‹**: æ¦‚å¿µè§£é‡Š  
> **æ¥æº**: åŸºäº 2 ä¸ªæ–‡æ¡£ç”Ÿæˆ  
> **è¯„åˆ†**: â­â­â­â­â­ (5.0)  

## å›ç­”

RAGï¼ˆRetrieval-Augmented Generationï¼‰æ˜¯æ£€ç´¢å¢å¼ºç”ŸæˆæŠ€æœ¯...

## æ¥æºæ–‡æ¡£

æœ¬å›ç­”ç»¼åˆäº†ä»¥ä¸‹æ–‡æ¡£çš„å†…å®¹ï¼š

1. **RAGä»‹ç».pdf**
2. **æŠ€æœ¯æ–‡æ¡£.docx**

## ç”¨æˆ·åé¦ˆ

- ğŸ‘ **2 ä¸ªæ–‡æ¡£è¢«æ ‡è®°ä¸ºæœ‰å¸®åŠ©**
- ğŸ’¬ ç”¨æˆ·è¯„ä»·ï¼š"è§£é‡Šå¾—éå¸¸æ¸…æ¥š"

---

**ç”Ÿæˆæ—¶é—´**: 2025-11-30T00:00:00  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
data/
  rag/                        # å½’æ¡£æ ¹ç›®å½•
    approved/                 # å·²æ‰¹å‡†çš„é«˜è´¨é‡é—®ç­”
      concept/               # æ¦‚å¿µè§£é‡Š
        20251130000000-QA-ä»€ä¹ˆæ˜¯RAG.md
      howto/                 # æ“ä½œæŒ‡å—
      troubleshooting/       # é—®é¢˜æ’æŸ¥
      other/                 # å…¶ä»–
    temp/                    # ä¸´æ—¶é—®ç­”ï¼ˆè¯„åˆ†<4æ˜Ÿï¼‰
    rejected/                # å·²æ‹’ç»
```

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### 1. ä¿®å¤ç¼–è¯‘é—®é¢˜ï¼ˆä¼˜å…ˆï¼‰

éœ€è¦è§£å†³ SimilarQAService çš„ä¾èµ–æ³¨å…¥é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ï¼š
- å°† LocalEmbeddingEngine æ³¨å†Œä¸º Spring Bean
- æˆ–è€…ä½¿ç”¨ @PostConstruct å»¶è¿Ÿåˆå§‹åŒ–

### 2. æ·»åŠ REST APIï¼ˆ1å°æ—¶ï¼‰

åœ¨ KnowledgeQAController ä¸­æ·»åŠ ç›¸ä¼¼é—®é¢˜æœç´¢æ¥å£

### 3. å‰ç«¯UIå®ç°ï¼ˆ2å°æ—¶ï¼‰

- ç›¸ä¼¼é—®é¢˜åˆ—è¡¨ç»„ä»¶
- ç›´æ¥ä½¿ç”¨å†å²ç­”æ¡ˆæŒ‰é’®
- å½’æ¡£ç»Ÿè®¡å±•ç¤º

### 4. æµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ1å°æ—¶ï¼‰

- ç«¯åˆ°ç«¯æµ‹è¯•
- æ€§èƒ½ä¼˜åŒ–
- æ–‡æ¡£å®Œå–„

**é¢„è®¡æ€»æ—¶é—´**ï¼š4å°æ—¶

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½å½’æ¡£

- ä¸æ˜¯æ‰€æœ‰é—®ç­”éƒ½å½’æ¡£ï¼Œåªå½’æ¡£é«˜è´¨é‡çš„
- è‡ªåŠ¨åˆ†ç±»ï¼Œä¾¿äºç®¡ç†
- æå–å…³é”®è¯ï¼Œæå‡æ£€ç´¢æ•ˆæœ

### 2. å‘é‡æ£€ç´¢

- ä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦è€Œä¸æ˜¯ç®€å•çš„å…³é”®è¯åŒ¹é…
- èƒ½è¯†åˆ«è¯­ä¹‰ç›¸ä¼¼çš„é—®é¢˜
- å³ä½¿ç”¨è¯ä¸åŒä¹Ÿèƒ½åŒ¹é…

### 3. è‡ªåŠ¨ç´¢å¼•

- å½’æ¡£åç«‹å³ç´¢å¼•
- ä¸éœ€è¦æ‰‹åŠ¨é‡å»ºç´¢å¼•
- å®æ—¶å¯ç”¨

### 4. çµæ´»é…ç½®

- æ”¯æŒå¤šç§å½’æ¡£ç­–ç•¥
- å¯è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼
- å¯æ§åˆ¶å½’æ¡£æ¡ä»¶

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

ç›¸å…³æ–‡æ¡£å·²ç”Ÿæˆï¼š

1. **ç³»ç»Ÿæ¶æ„è¯¦è§£**
   - `md/20251129233523-æ™ºèƒ½çŸ¥è¯†åº“ç³»ç»Ÿæ¶æ„ä¸åé¦ˆæœºåˆ¶è¯¦è§£.md`

2. **é—®ç­”å½’æ¡£æ–¹æ¡ˆ**
   - `md/20251129233523-é—®ç­”å½’æ¡£åŠŸèƒ½å®ç°æ–¹æ¡ˆ.md`

3. **æ˜Ÿçº§è¯„ä»·å®ç°**
   - `md/20251130001105-æ˜Ÿçº§è¯„ä»·åŠŸèƒ½å®ç°æ–‡æ¡£.md`

4. **ç¬¬ä¸€éƒ¨åˆ†å®ŒæˆæŠ¥å‘Š**
   - `md/20251130001500-ç¬¬ä¸€éƒ¨åˆ†å®ŒæˆæŠ¥å‘Š.md`

---

## âœ… æ€»ç»“

### å·²å®Œæˆçš„å·¥ä½œ

1. âœ… é—®ç­”å½’æ¡£æœåŠ¡ï¼ˆQAArchiveServiceï¼‰
2. âœ… é…ç½®ç±»ï¼ˆQAArchivePropertiesï¼‰
3. âœ… ç›¸ä¼¼é—®é¢˜æ£€æµ‹æœåŠ¡ï¼ˆSimilarQAServiceï¼‰
4. âœ… é›†æˆåˆ°ç°æœ‰æœåŠ¡
5. âœ… å•æ–‡ä»¶å¢é‡ç´¢å¼•æ–¹æ³•

### æ ¸å¿ƒä»·å€¼

- ğŸ’° **èŠ‚çº¦æˆæœ¬**ï¼š30-50%
- âš¡ **æå‡é€Ÿåº¦**ï¼š15-50å€
- ğŸ“ˆ **çŸ¥è¯†ç§¯ç´¯**ï¼šè‡ªåŠ¨æˆé•¿
- ğŸ˜Š **ç”¨æˆ·æ»¡æ„**ï¼šä¸€è‡´ä¸”é«˜è´¨é‡

### å½“å‰çŠ¶æ€

**ä»£ç å®Œæˆåº¦**ï¼š80%  
**åŠŸèƒ½å¯ç”¨æ€§**ï¼šæ ¸å¿ƒé€»è¾‘å·²å®ç°  
**å‰©ä½™å·¥ä½œ**ï¼šä¿®å¤ç¼–è¯‘é—®é¢˜ + æ·»åŠ API + å‰ç«¯UI

---

**å‡†å¤‡å¥½ç»§ç»­å®Œæˆå‰©ä½™20%ï¼** ğŸ¯

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-11-30 01:00:00  
**ç»´æŠ¤è€…**ï¼šAI Reviewer Team

