# HOPE ä¸‰å±‚è®°å¿†æ¶æ„åœ¨ RAG çŸ¥è¯†åº“ä¸­çš„å®è·µæ–¹æ¡ˆ

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-07  
> **å‚è€ƒè®ºæ–‡**: Google HOPE (High-frequency, Ordinary, Permanent Encoding)  
> **ç›®æ ‡**: è®©çŸ¥è¯†åº“ç³»ç»Ÿè¶Šæ¥è¶Šæ™ºèƒ½ï¼Œå‡å°‘ AI è°ƒç”¨ï¼Œæå‡å“åº”é€Ÿåº¦

---

## ä¸€ã€HOPE è®ºæ–‡æ ¸å¿ƒæ€æƒ³

### 1.1 ä¸‰å±‚è®°å¿†æ¨¡å‹

Google çš„ HOPE è®ºæ–‡å€Ÿé‰´äººè„‘è®°å¿†æœºåˆ¶ï¼Œå°†çŸ¥è¯†åˆ†ä¸ºä¸‰ä¸ªé¢‘ç‡å±‚æ¬¡ï¼š

| å±‚æ¬¡ | ç±»æ¯”äººè„‘ | ç‰¹ç‚¹ | æ›´æ–°é¢‘ç‡ |
|------|---------|------|---------|
| **é«˜é¢‘å±‚ (High-frequency)** | å·¥ä½œè®°å¿† | æ•æ‰æ–°å®šä¹‰ã€ä¸´æ—¶ä¸Šä¸‹æ–‡ | å®æ—¶æ›´æ–° |
| **ä¸­é¢‘å±‚ (Ordinary)** | çŸ­æœŸè®°å¿† | å¤„ç†æ–°çŸ¥è¯†ã€è¿‘æœŸå­¦ä¹ å†…å®¹ | å®šæœŸæ›´æ–° |
| **ä½é¢‘å±‚ (Permanent)** | é•¿æœŸè®°å¿† | ç¨³å®šçš„æŠ€èƒ½çŸ¥è¯†ã€æ ¸å¿ƒè§„åˆ™ | æå°‘æ›´æ–° |

### 1.2 è§£å†³çš„é—®é¢˜

- **é—å¿˜é—®é¢˜**: é€šè¿‡åˆ†å±‚å­˜å‚¨ï¼Œé‡è¦çŸ¥è¯†ä¸ä¼šè¢«æ–°ä¿¡æ¯è¦†ç›–
- **å¹»è§‰é—®é¢˜**: ä½é¢‘å±‚çš„ç¡®å®šæ€§çŸ¥è¯†å¯ç›´æ¥å›ç­”ï¼Œæ— éœ€ LLM æ¨ç†

---

## äºŒã€åœ¨ RAG çŸ¥è¯†åº“ä¸­çš„å®è·µæ¶æ„

### 2.1 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·é—®é¢˜è¾“å…¥                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é—®é¢˜åˆ†ç±»å™¨ (QuestionClassifier)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. æ„å›¾è¯†åˆ«: é—®ç­”/æŒ‡ä»¤/é—²èŠ/...                          â”‚   â”‚
â”‚  â”‚ 2. å¤æ‚åº¦è¯„ä¼°: ç®€å•/ä¸­ç­‰/å¤æ‚                            â”‚   â”‚
â”‚  â”‚ 3. çŸ¥è¯†ç±»å‹åˆ¤æ–­: äº‹å®å‹/æ¨ç†å‹/åˆ›ä½œå‹                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä½é¢‘å±‚æŸ¥è¯¢    â”‚ â”‚   ä¸­é¢‘å±‚æŸ¥è¯¢    â”‚ â”‚   é«˜é¢‘å±‚æŸ¥è¯¢    â”‚
â”‚ (Permanent)     â”‚ â”‚ (Ordinary)      â”‚ â”‚ (High-freq)     â”‚
â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ â€¢ æŠ€èƒ½æ¨¡æ¿åº“    â”‚ â”‚ â€¢ è¿‘æœŸé—®ç­”å½’æ¡£  â”‚ â”‚ â€¢ å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡â”‚
â”‚ â€¢ ç¡®å®šæ€§çŸ¥è¯†    â”‚ â”‚ â€¢ æ–°å¢æ–‡æ¡£çŸ¥è¯†  â”‚ â”‚ â€¢ ä¸´æ—¶å®šä¹‰      â”‚
â”‚ â€¢ Promptæ¨¡æ¿    â”‚ â”‚ â€¢ ç”¨æˆ·åå¥½å­¦ä¹   â”‚ â”‚ â€¢ å®æ—¶æ›´æ­£      â”‚
â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ å‘½ä¸­ â†’ ç›´æ¥å›å¤ â”‚ â”‚ å‘½ä¸­ â†’ å¢å¼ºæ£€ç´¢ â”‚ â”‚ å‘½ä¸­ â†’ ä¸Šä¸‹æ–‡æ³¨å…¥â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚                   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å“åº”ç­–ç•¥å†³ç­–å™¨                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç­–ç•¥1: ç›´æ¥å›å¤ (ä½é¢‘å±‚å‘½ä¸­ + é«˜ç½®ä¿¡åº¦)                  â”‚   â”‚
â”‚  â”‚ ç­–ç•¥2: å¿«é€Ÿæ£€ç´¢ (ä¸­é¢‘å±‚å‘½ä¸­ + æ¨¡æ¿å¢å¼º)                  â”‚   â”‚
â”‚  â”‚ ç­–ç•¥3: å®Œæ•´RAG (éœ€è¦LLMæ¨ç†)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è¿”å›ç­”æ¡ˆç»™ç”¨æˆ·                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å­¦ä¹ åé¦ˆå¾ªç¯                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ ç”¨æˆ·åé¦ˆ â†’ è°ƒæ•´çŸ¥è¯†å±‚çº§                                â”‚   â”‚
â”‚  â”‚ â€¢ é«˜é¢‘ä½¿ç”¨ â†’ æ™‹å‡åˆ°ä½é¢‘å±‚                                â”‚   â”‚
â”‚  â”‚ â€¢ é•¿æœŸæœªç”¨ â†’ é™çº§æˆ–æ¸…ç†                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¸‰å±‚å­˜å‚¨è®¾è®¡

#### ä½é¢‘å±‚ (Permanent Layer) - æŠ€èƒ½çŸ¥è¯†åº“

```yaml
# å­˜å‚¨è·¯å¾„: ./data/hope/permanent/

# ç»“æ„è®¾è®¡
permanent_layer:
  # 1. æŠ€èƒ½æ¨¡æ¿åº“ - å·²å­¦ä¹ çš„å¤„ç†æ¨¡å¼
  skill_templates:
    - id: "skill_001"
      name: "ä»£ç è§£é‡Š"
      pattern: "è§£é‡Š|è¯´æ˜|ä»€ä¹ˆæ„æ€|å¹²ä»€ä¹ˆçš„"
      template: |
        è¯·è§£é‡Šä»¥ä¸‹ä»£ç çš„åŠŸèƒ½ï¼š
        ```{language}
        {code}
        ```
        è¦æ±‚ï¼š1. é€è¡Œæ³¨é‡Š 2. æ€»ç»“åŠŸèƒ½ 3. æŒ‡å‡ºæ½œåœ¨é—®é¢˜
      confidence: 0.95
      usage_count: 1523
      last_used: "2025-12-07"
      
    - id: "skill_002"
      name: "æ–‡æ¡£æ‘˜è¦"
      pattern: "æ€»ç»“|æ‘˜è¦|æ¦‚æ‹¬|è¦ç‚¹"
      template: |
        è¯·å¯¹ä»¥ä¸‹æ–‡æ¡£è¿›è¡Œæ‘˜è¦ï¼š
        {content}
        è¦æ±‚ï¼š1. æå–å…³é”®ä¿¡æ¯ 2. ä¸è¶…è¿‡{max_length}å­—
      confidence: 0.92
      
  # 2. ç¡®å®šæ€§çŸ¥è¯† - å¯ç›´æ¥å›ç­”çš„äº‹å®
  factual_knowledge:
    - question_pattern: "é¡¹ç›®ä½¿ç”¨ä»€ä¹ˆæ¡†æ¶"
      answer: "æœ¬é¡¹ç›®ä½¿ç”¨ Spring Boot 2.7.18 + Apache Lucene 9.9.1"
      source: "README.md"
      confidence: 1.0
      
    - question_pattern: "æ”¯æŒå“ªäº›æ–‡æ¡£æ ¼å¼"
      answer: "æ”¯æŒ 35+ æ ¼å¼ï¼ŒåŒ…æ‹¬ PDFã€Wordã€Excelã€PPTã€Markdown ç­‰"
      source: "README.md"
      confidence: 1.0
      
  # 3. Prompt ä¼˜åŒ–æ¨¡æ¿
  prompt_templates:
    qa_template: |
      ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ¥è¯†åº“åŠ©æ‰‹ã€‚
      å·²çŸ¥ä¿¡æ¯ï¼š{context}
      ç”¨æˆ·é—®é¢˜ï¼š{question}
      è¯·åŸºäºå·²çŸ¥ä¿¡æ¯å›ç­”ï¼Œå¦‚æœä¿¡æ¯ä¸è¶³è¯·è¯´æ˜ã€‚
      
    code_review_template: |
      è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼š{code}
      å…³æ³¨ç‚¹ï¼š{focus_areas}
```

#### ä¸­é¢‘å±‚ (Ordinary Layer) - è¿‘æœŸçŸ¥è¯†

```yaml
# å­˜å‚¨è·¯å¾„: ./data/hope/ordinary/

ordinary_layer:
  # 1. è¿‘æœŸé«˜åˆ†é—®ç­”å½’æ¡£
  recent_qa:
    - id: "qa_20251207_001"
      question: "å¦‚ä½•é…ç½®å‘é‡æ£€ç´¢ï¼Ÿ"
      answer: "åœ¨ application.yml ä¸­è®¾ç½®..."
      rating: 5
      created: "2025-12-07"
      access_count: 12
      
  # 2. æ–°å¢æ–‡æ¡£æ‘˜è¦
  document_summaries:
    - doc_id: "doc_001"
      title: "APIæ–‡æ¡£.md"
      summary: "æè¿°äº†ç³»ç»Ÿçš„ REST API æ¥å£..."
      keywords: ["API", "æ¥å£", "REST"]
      indexed_at: "2025-12-07"
      
  # 3. ç”¨æˆ·åå¥½å­¦ä¹ 
  user_preferences:
    response_style: "è¯¦ç»†"
    preferred_language: "ä¸­æ–‡"
    common_topics: ["RAG", "æ£€ç´¢", "Spring Boot"]
```

#### é«˜é¢‘å±‚ (High-frequency Layer) - å®æ—¶ä¸Šä¸‹æ–‡

```yaml
# å­˜å‚¨: å†…å­˜ / Redis

high_frequency_layer:
  # 1. å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡
  session_context:
    session_id: "sess_xxx"
    conversation_history:
      - role: "user"
        content: "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ"
      - role: "assistant"
        content: "RAG æ˜¯æ£€ç´¢å¢å¼ºç”Ÿæˆ..."
    current_topic: "RAG åŸç†"
    
  # 2. ä¸´æ—¶å®šä¹‰/æ›´æ­£
  temp_definitions:
    - term: "PPL"
      definition: "Perplexityï¼Œå›°æƒ‘åº¦ï¼Œç”¨äºè¯„ä¼°è¯­è¨€æ¨¡å‹"
      valid_until: "session_end"
      
  # 3. å®æ—¶ä¸Šä¸‹æ–‡å¢å¼º
  context_enhancements:
    - type: "user_correction"
      content: "ä¹‹å‰è¯´çš„ä¸å¯¹ï¼Œåº”è¯¥æ˜¯..."
      applies_to: "current_session"
```

---

## ä¸‰ã€æ ¸å¿ƒç»„ä»¶è®¾è®¡

### 3.1 é—®é¢˜åˆ†ç±»å™¨ (QuestionClassifier)

```java
/**
 * é—®é¢˜åˆ†ç±»å™¨ - å†³å®šä½¿ç”¨å“ªä¸€å±‚çŸ¥è¯†å›ç­”
 */
@Service
public class QuestionClassifier {
    
    /**
     * åˆ†ç±»ç»“æœ
     */
    @Data
    public static class Classification {
        private QuestionType type;           // é—®é¢˜ç±»å‹
        private ComplexityLevel complexity;  // å¤æ‚åº¦
        private double confidence;           // ç½®ä¿¡åº¦
        private String suggestedLayer;       // å»ºè®®æŸ¥è¯¢å±‚
    }
    
    public enum QuestionType {
        FACTUAL,      // äº‹å®å‹ï¼šæœ‰ç¡®å®šç­”æ¡ˆ
        PROCEDURAL,   // è¿‡ç¨‹å‹ï¼šæ€ä¹ˆåš
        CONCEPTUAL,   // æ¦‚å¿µå‹ï¼šæ˜¯ä»€ä¹ˆ
        ANALYTICAL,   // åˆ†æå‹ï¼šä¸ºä»€ä¹ˆ
        CREATIVE      // åˆ›ä½œå‹ï¼šéœ€è¦ç”Ÿæˆ
    }
    
    public enum ComplexityLevel {
        SIMPLE,       // ç®€å•ï¼šå¯ç›´æ¥å›ç­”
        MODERATE,     // ä¸­ç­‰ï¼šéœ€è¦æ£€ç´¢
        COMPLEX       // å¤æ‚ï¼šéœ€è¦æ¨ç†
    }
    
    /**
     * å¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»
     */
    public Classification classify(String question) {
        Classification result = new Classification();
        
        // 1. æ¨¡å¼åŒ¹é… - å¿«é€Ÿè¯†åˆ«ç®€å•é—®é¢˜
        if (matchesFactualPattern(question)) {
            result.setType(QuestionType.FACTUAL);
            result.setComplexity(ComplexityLevel.SIMPLE);
            result.setSuggestedLayer("permanent");
            result.setConfidence(0.9);
            return result;
        }
        
        // 2. å…³é”®è¯åˆ†æ
        if (containsProceduralKeywords(question)) {
            result.setType(QuestionType.PROCEDURAL);
            result.setComplexity(ComplexityLevel.MODERATE);
            result.setSuggestedLayer("ordinary");
        }
        
        // 3. å¤æ‚åº¦è¯„ä¼°
        result.setComplexity(assessComplexity(question));
        
        return result;
    }
    
    private boolean matchesFactualPattern(String question) {
        // åŒ¹é…äº‹å®å‹é—®é¢˜æ¨¡å¼
        String[] patterns = {
            ".*æ˜¯ä»€ä¹ˆ.*æ¡†æ¶.*",
            ".*æ”¯æŒ.*æ ¼å¼.*",
            ".*ç‰ˆæœ¬.*æ˜¯.*",
            ".*ä½œè€….*æ˜¯.*"
        };
        return Arrays.stream(patterns)
            .anyMatch(p -> question.matches(p));
    }
}
```

### 3.2 ä¸‰å±‚çŸ¥è¯†ç®¡ç†å™¨ (HOPEKnowledgeManager)

```java
/**
 * HOPE ä¸‰å±‚çŸ¥è¯†ç®¡ç†å™¨
 */
@Service
public class HOPEKnowledgeManager {
    
    private final PermanentLayerService permanentLayer;
    private final OrdinaryLayerService ordinaryLayer;
    private final HighFrequencyLayerService highFreqLayer;
    
    /**
     * æŸ¥è¯¢ç»“æœ
     */
    @Data
    public static class QueryResult {
        private String answer;
        private String source;           // æ¥æºå±‚
        private double confidence;       // ç½®ä¿¡åº¦
        private boolean needsLLM;        // æ˜¯å¦éœ€è¦ LLM
        private String promptTemplate;   // æ¨èçš„ Prompt æ¨¡æ¿
        private List<String> contexts;   // å¢å¼ºä¸Šä¸‹æ–‡
    }
    
    /**
     * æ™ºèƒ½æŸ¥è¯¢ - æŒ‰å±‚çº§ä¾æ¬¡æŸ¥è¯¢
     */
    public QueryResult smartQuery(String question, String sessionId) {
        QueryResult result = new QueryResult();
        
        // 1. é¦–å…ˆæŸ¥è¯¢é«˜é¢‘å±‚ï¼ˆå½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼‰
        HighFreqResult highFreqResult = highFreqLayer.query(sessionId, question);
        if (highFreqResult.hasRelevantContext()) {
            result.getContexts().addAll(highFreqResult.getContexts());
        }
        
        // 2. æŸ¥è¯¢ä½é¢‘å±‚ï¼ˆæŠ€èƒ½çŸ¥è¯†ï¼‰
        PermanentResult permResult = permanentLayer.query(question);
        if (permResult.isDirectAnswer()) {
            // ç›´æ¥å›ç­”ï¼Œæ— éœ€ LLM
            result.setAnswer(permResult.getAnswer());
            result.setSource("permanent");
            result.setConfidence(permResult.getConfidence());
            result.setNeedsLLM(false);
            return result;
        }
        
        if (permResult.hasSkillTemplate()) {
            // æœ‰æŠ€èƒ½æ¨¡æ¿ï¼Œæ„å»ºä¼˜åŒ–çš„ Prompt
            result.setPromptTemplate(permResult.getSkillTemplate());
        }
        
        // 3. æŸ¥è¯¢ä¸­é¢‘å±‚ï¼ˆè¿‘æœŸçŸ¥è¯†ï¼‰
        OrdinaryResult ordResult = ordinaryLayer.query(question);
        if (ordResult.hasSimilarQA()) {
            // æ‰¾åˆ°ç›¸ä¼¼é—®ç­”ï¼Œå¯èƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ–ä½œä¸ºå‚è€ƒ
            if (ordResult.getSimilarity() > 0.95) {
                result.setAnswer(ordResult.getAnswer());
                result.setSource("ordinary");
                result.setConfidence(ordResult.getSimilarity());
                result.setNeedsLLM(false);
                return result;
            }
            // ä½œä¸ºä¸Šä¸‹æ–‡å¢å¼º
            result.getContexts().add(ordResult.getAnswer());
        }
        
        // 4. éœ€è¦å®Œæ•´ RAG æµç¨‹
        result.setNeedsLLM(true);
        return result;
    }
    
    /**
     * å­¦ä¹ æ–°çŸ¥è¯† - æ ¹æ®åé¦ˆè°ƒæ•´å±‚çº§
     */
    public void learn(String question, String answer, int rating, String sessionId) {
        if (rating >= 4) {
            // é«˜åˆ†ç­”æ¡ˆ -> å­˜å…¥ä¸­é¢‘å±‚
            ordinaryLayer.save(question, answer, rating);
            
            // æ£€æŸ¥æ˜¯å¦åº”è¯¥æ™‹å‡åˆ°ä½é¢‘å±‚
            if (ordinaryLayer.getAccessCount(question) > 10 
                && ordinaryLayer.getAverageRating(question) >= 4.5) {
                promoteToPeranent(question, answer);
            }
        }
        
        // æ›´æ–°é«˜é¢‘å±‚çš„ä¼šè¯ä¸Šä¸‹æ–‡
        highFreqLayer.updateContext(sessionId, question, answer);
    }
    
    /**
     * æ™‹å‡åˆ°ä½é¢‘å±‚
     */
    private void promoteToPeranent(String question, String answer) {
        // åˆ†ææ˜¯å¦å¯ä»¥æå–ä¸ºæŠ€èƒ½æ¨¡æ¿
        SkillTemplate template = extractSkillTemplate(question, answer);
        if (template != null) {
            permanentLayer.saveSkillTemplate(template);
        }
        
        // æˆ–è€…ä½œä¸ºç¡®å®šæ€§çŸ¥è¯†
        if (isFactualKnowledge(question, answer)) {
            permanentLayer.saveFactualKnowledge(question, answer);
        }
    }
}
```

### 3.3 æ™ºèƒ½å“åº”ç­–ç•¥ (ResponseStrategy)

```java
/**
 * å“åº”ç­–ç•¥å†³ç­–å™¨
 */
@Service
public class ResponseStrategyDecider {
    
    public enum Strategy {
        DIRECT_ANSWER,    // ç›´æ¥å›ç­”ï¼ˆä¸è°ƒç”¨ LLMï¼‰
        TEMPLATE_ANSWER,  // æ¨¡æ¿å¢å¼ºå›ç­”ï¼ˆç®€åŒ– LLM è°ƒç”¨ï¼‰
        FULL_RAG          // å®Œæ•´ RAG æµç¨‹
    }
    
    /**
     * å†³å®šå“åº”ç­–ç•¥
     */
    public Strategy decide(QuestionClassifier.Classification classification,
                          HOPEKnowledgeManager.QueryResult queryResult) {
        
        // ç­–ç•¥1: ç›´æ¥å›ç­”
        if (!queryResult.isNeedsLLM() && queryResult.getConfidence() > 0.9) {
            return Strategy.DIRECT_ANSWER;
        }
        
        // ç­–ç•¥2: æ¨¡æ¿å¢å¼º
        if (queryResult.getPromptTemplate() != null 
            && classification.getComplexity() != ComplexityLevel.COMPLEX) {
            return Strategy.TEMPLATE_ANSWER;
        }
        
        // ç­–ç•¥3: å®Œæ•´ RAG
        return Strategy.FULL_RAG;
    }
}
```

---

## å››ã€ä¸ç°æœ‰ç³»ç»Ÿçš„é›†æˆæ–¹æ¡ˆ

### 4.1 é›†æˆåˆ° KnowledgeQAService

```java
// åœ¨ KnowledgeQAService.ask() æ–¹æ³•ä¸­é›†æˆ HOPE æ¶æ„

public AIAnswer ask(String question) {
    // 1. é—®é¢˜åˆ†ç±»
    Classification classification = questionClassifier.classify(question);
    
    // 2. HOPE ä¸‰å±‚æŸ¥è¯¢
    QueryResult hopeResult = hopeManager.smartQuery(question, sessionId);
    
    // 3. å†³å®šå“åº”ç­–ç•¥
    Strategy strategy = strategyDecider.decide(classification, hopeResult);
    
    switch (strategy) {
        case DIRECT_ANSWER:
            // ç›´æ¥è¿”å›ï¼Œä¸è°ƒç”¨ LLM
            log.info("ğŸš€ HOPE ç›´æ¥å›ç­”ï¼Œè·³è¿‡ LLM");
            return AIAnswer.builder()
                .answer(hopeResult.getAnswer())
                .source("HOPE:" + hopeResult.getSource())
                .responseTime(10) // æå¿«å“åº”
                .build();
                
        case TEMPLATE_ANSWER:
            // ä½¿ç”¨æŠ€èƒ½æ¨¡æ¿æ„å»º Prompt
            String optimizedPrompt = buildPromptWithTemplate(
                question, 
                hopeResult.getPromptTemplate(),
                hopeResult.getContexts()
            );
            // ç®€åŒ–çš„ LLM è°ƒç”¨
            return askWithOptimizedPrompt(optimizedPrompt);
            
        case FULL_RAG:
            // åŸæœ‰çš„å®Œæ•´ RAG æµç¨‹
            return askWithFullRAG(question, hopeResult.getContexts());
    }
}
```

### 4.2 é…ç½®æ–‡ä»¶æ‰©å±•

```yaml
# application.yml æ–°å¢é…ç½®

knowledge:
  qa:
    # HOPE ä¸‰å±‚è®°å¿†æ¶æ„é…ç½®
    hope:
      enabled: true
      
      # ä½é¢‘å±‚é…ç½®
      permanent:
        storage-path: ./data/hope/permanent
        # æ™‹å‡é˜ˆå€¼
        promotion-threshold:
          min-access-count: 10
          min-avg-rating: 4.5
          
      # ä¸­é¢‘å±‚é…ç½®
      ordinary:
        storage-path: ./data/hope/ordinary
        # ä¿ç•™æ—¶é—´ï¼ˆå¤©ï¼‰
        retention-days: 30
        # ç›¸ä¼¼åº¦é˜ˆå€¼
        similarity-threshold: 0.85
        
      # é«˜é¢‘å±‚é…ç½®
      high-frequency:
        # ä½¿ç”¨ Redis æˆ–å†…å­˜
        storage: memory  # memory / redis
        # ä¼šè¯è¶…æ—¶ï¼ˆåˆ†é’Ÿï¼‰
        session-timeout: 30
        
      # å“åº”ç­–ç•¥é…ç½®
      strategy:
        # ç›´æ¥å›ç­”ç½®ä¿¡åº¦é˜ˆå€¼
        direct-answer-confidence: 0.9
        # å¯ç”¨æŠ€èƒ½æ¨¡æ¿
        enable-skill-templates: true
```

---

## äº”ã€å­¦ä¹ ä¸è¿›åŒ–æœºåˆ¶

### 5.1 çŸ¥è¯†æ™‹å‡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      çŸ¥è¯†ç”Ÿå‘½å‘¨æœŸ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  æ–°é—®ç­”äº§ç”Ÿ                                                      â”‚
â”‚      â”‚                                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚   é«˜é¢‘å±‚     â”‚ â† ä¸´æ—¶å­˜å‚¨ï¼Œä¼šè¯çº§åˆ«                          â”‚
â”‚  â”‚ (Session)    â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚      â”‚ ç”¨æˆ·ç»™å‡ºæ­£é¢åé¦ˆ (rating >= 4)                           â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚   ä¸­é¢‘å±‚     â”‚ â† è¿‘æœŸçŸ¥è¯†ï¼Œä¿ç•™ 30 å¤©                        â”‚
â”‚  â”‚ (Ordinary)   â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚      â”‚ è®¿é—®æ¬¡æ•° > 10 ä¸” å¹³å‡è¯„åˆ† >= 4.5                         â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚   ä½é¢‘å±‚     â”‚ â† æ°¸ä¹…çŸ¥è¯†ï¼Œæ ¸å¿ƒæŠ€èƒ½                          â”‚
â”‚  â”‚ (Permanent)  â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 æŠ€èƒ½æ¨¡æ¿è‡ªåŠ¨æå–

```java
/**
 * ä»é«˜é¢‘é—®ç­”ä¸­è‡ªåŠ¨æå–æŠ€èƒ½æ¨¡æ¿
 */
public class SkillTemplateExtractor {
    
    /**
     * åˆ†æé—®ç­”å¯¹ï¼Œæå–å¯å¤ç”¨çš„æŠ€èƒ½æ¨¡æ¿
     */
    public SkillTemplate extract(List<QAPair> similarQAs) {
        // 1. æ‰¾å‡ºé—®é¢˜çš„å…±åŒæ¨¡å¼
        String questionPattern = extractCommonPattern(
            similarQAs.stream().map(QAPair::getQuestion).toList()
        );
        
        // 2. åˆ†æå›ç­”çš„ç»“æ„
        AnswerStructure structure = analyzeAnswerStructure(
            similarQAs.stream().map(QAPair::getAnswer).toList()
        );
        
        // 3. ç”Ÿæˆ Prompt æ¨¡æ¿
        String promptTemplate = generatePromptTemplate(questionPattern, structure);
        
        return SkillTemplate.builder()
            .pattern(questionPattern)
            .template(promptTemplate)
            .confidence(calculateConfidence(similarQAs))
            .build();
    }
}
```

---

## å…­ã€é¢„æœŸæ•ˆæœä¸æ”¶ç›Š

### 6.1 æ€§èƒ½æå‡é¢„æœŸ

| æŒ‡æ ‡ | å½“å‰ | HOPE ä¼˜åŒ–å | æå‡ |
|------|------|-------------|------|
| **å¹³å‡å“åº”æ—¶é—´** | 2-5 ç§’ | 0.1-2 ç§’ | **60-95%** |
| **LLM è°ƒç”¨ç‡** | 100% | 40-60% | **èŠ‚çœ 40-60%** |
| **API æˆæœ¬** | $X/æœˆ | $0.4X-0.6X/æœˆ | **èŠ‚çœ 40-60%** |
| **å‡†ç¡®ç‡** | 85% | 90%+ | **+5%** |

### 6.2 ç”¨æˆ·ä½“éªŒæå‡

1. **å³æ—¶å“åº”**: ç®€å•é—®é¢˜æ¯«ç§’çº§å›å¤
2. **ä¸€è‡´æ€§**: ç›¸åŒé—®é¢˜è·å¾—ä¸€è‡´ç­”æ¡ˆ
3. **ä¸ªæ€§åŒ–**: å­¦ä¹ ç”¨æˆ·åå¥½å’Œå¸¸ç”¨é—®é¢˜
4. **å‡å°‘å¹»è§‰**: ç¡®å®šæ€§çŸ¥è¯†ç›´æ¥å›ç­”ï¼Œæ—  LLM æ¨ç†

### 6.3 ç³»ç»Ÿæ™ºèƒ½åŒ–

1. **è‡ªæˆ‘å­¦ä¹ **: ä»ç”¨æˆ·åé¦ˆä¸­æŒç»­å­¦ä¹ 
2. **çŸ¥è¯†æ²‰æ·€**: ä¼˜è´¨é—®ç­”è‡ªåŠ¨å½’æ¡£
3. **æŠ€èƒ½ç§¯ç´¯**: è‡ªåŠ¨æå–å¤„ç†æ¨¡å¼
4. **æŒç»­ä¼˜åŒ–**: Prompt æ¨¡æ¿ä¸æ–­è¿­ä»£

---

## ä¸ƒã€å®æ–½è·¯çº¿å›¾

### Phase 1: åŸºç¡€æ¶æ„ (1-2 å‘¨) âœ… å·²å®Œæˆ

- [x] è®¾è®¡ä¸‰å±‚å­˜å‚¨ç»“æ„
  - `HOPEConfig.java` - é…ç½®ç±»
  - `model/SkillTemplate.java` - æŠ€èƒ½æ¨¡æ¿æ¨¡å‹
  - `model/FactualKnowledge.java` - ç¡®å®šæ€§çŸ¥è¯†æ¨¡å‹
  - `model/HOPEQueryResult.java` - æŸ¥è¯¢ç»“æœæ¨¡å‹
- [x] å®ç° QuestionClassifier
  - æ”¯æŒ 5 ç§é—®é¢˜ç±»å‹è¯†åˆ«
  - æ”¯æŒ 3 çº§å¤æ‚åº¦è¯„ä¼°
  - å…³é”®è¯æå–
- [x] å®ç° PermanentLayerService
  - æŠ€èƒ½æ¨¡æ¿ç®¡ç†ï¼ˆå†…ç½®3ä¸ªæ¨¡æ¿ï¼šä»£ç è§£é‡Šã€æ–‡æ¡£æ‘˜è¦ã€å¯¹æ¯”åˆ†æï¼‰
  - ç¡®å®šæ€§çŸ¥è¯†ç®¡ç†ï¼ˆå†…ç½®3ä¸ªï¼šæ¡†æ¶ä¿¡æ¯ã€æ”¯æŒæ ¼å¼ã€æ£€ç´¢ç®—æ³•ï¼‰
  - å…³é”®è¯ç´¢å¼•
  - JSON æŒä¹…åŒ–å­˜å‚¨
  - åé¦ˆè®°å½•ä¸è‡ªåŠ¨ç¦ç”¨
- [x] å®ç°å“åº”ç­–ç•¥å†³ç­–å™¨ (ResponseStrategyDecider)
- [x] å®ç° HOPE çŸ¥è¯†ç®¡ç†å™¨ (HOPEKnowledgeManager)
- [x] æ·»åŠ å›½é™…åŒ–æ”¯æŒ (ä¸­/è‹±æ–‡)
- [x] æ·»åŠ  application.yml é…ç½®

**å·²åˆ›å»ºçš„æ–‡ä»¶ï¼š**
```
src/main/java/top/yumbo/ai/rag/hope/
â”œâ”€â”€ HOPEConfig.java              # é…ç½®ç±»
â”œâ”€â”€ QuestionClassifier.java       # é—®é¢˜åˆ†ç±»å™¨
â”œâ”€â”€ ResponseStrategy.java         # å“åº”ç­–ç•¥æšä¸¾
â”œâ”€â”€ ResponseStrategyDecider.java  # ç­–ç•¥å†³ç­–å™¨
â”œâ”€â”€ HOPEKnowledgeManager.java     # çŸ¥è¯†ç®¡ç†å™¨
â”œâ”€â”€ layer/
â”‚   â””â”€â”€ PermanentLayerService.java # ä½é¢‘å±‚æœåŠ¡
â””â”€â”€ model/
    â”œâ”€â”€ SkillTemplate.java         # æŠ€èƒ½æ¨¡æ¿
    â”œâ”€â”€ FactualKnowledge.java      # ç¡®å®šæ€§çŸ¥è¯†
    â””â”€â”€ HOPEQueryResult.java       # æŸ¥è¯¢ç»“æœ
```

### Phase 2: ä¸­é¢‘å±‚é›†æˆ (1-2 å‘¨) âœ… å·²å®Œæˆ

- [x] å®ç° OrdinaryLayerService
  - è¿‘æœŸé—®ç­”å­˜å‚¨ä¸æŸ¥è¯¢
  - å…³é”®è¯ç´¢å¼•ï¼ˆå¿«é€ŸåŒ¹é…ï¼‰
  - Jaccard ç›¸ä¼¼åº¦è®¡ç®—
  - å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®ï¼ˆ30å¤©ï¼‰
  - æœ€å¤§æ¡ç›®æ•°é™åˆ¶
- [x] å®ç° RecentQA æ¨¡å‹
  - è¯„åˆ†ç»Ÿè®¡
  - è®¿é—®è®¡æ•°
  - è¿‡æœŸæ£€æŸ¥
  - æ™‹å‡æ¡ä»¶æ£€æŸ¥
- [x] å®ç°çŸ¥è¯†æ™‹å‡æœºåˆ¶
  - è®¿é—®æ¬¡æ•° >= 10 ä¸” å¹³å‡è¯„åˆ† >= 4.5 è‡ªåŠ¨æ™‹å‡
  - ç”Ÿæˆé—®é¢˜åŒ¹é…æ¨¡å¼
  - è½¬å­˜ä¸ºç¡®å®šæ€§çŸ¥è¯†
- [x] é›†æˆåˆ° HOPEKnowledgeManager
  - ä¸­é¢‘å±‚æŸ¥è¯¢ï¼ˆç›¸ä¼¼åº¦ >= 0.95 ç›´æ¥ä½¿ç”¨ï¼Œ>= 0.7 ä½œä¸ºå‚è€ƒï¼‰
  - å­¦ä¹ åŠŸèƒ½ï¼ˆrating >= 4 ä¿å­˜åˆ°ä¸­é¢‘å±‚ï¼‰
  - ç»Ÿè®¡ä¿¡æ¯åŒ…å«ä¸­é¢‘å±‚æ•°æ®
- [x] æ·»åŠ å›½é™…åŒ–æ”¯æŒ

**æ–°å¢æ–‡ä»¶ï¼š**
```
src/main/java/top/yumbo/ai/rag/hope/
â”œâ”€â”€ layer/
â”‚   â””â”€â”€ OrdinaryLayerService.java  # ä¸­é¢‘å±‚æœåŠ¡
â””â”€â”€ model/
    â””â”€â”€ RecentQA.java              # è¿‘æœŸé—®ç­”æ¨¡å‹
```

**ä¸­é¢‘å±‚ç‰¹æ€§ï¼š**
| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ç›¸ä¼¼åº¦é˜ˆå€¼ | >= 0.95 ç›´æ¥ä½¿ç”¨ï¼Œ>= 0.7 ä½œä¸ºå‚è€ƒ |
| ä¿ç•™æ—¶é—´ | 30 å¤©ï¼ˆå¯é…ç½®ï¼‰ |
| æœ€å¤§æ¡ç›®æ•° | 10000ï¼ˆå¯é…ç½®ï¼‰ |
| æ™‹å‡æ¡ä»¶ | è®¿é—® >= 10 æ¬¡ ä¸” å¹³å‡è¯„åˆ† >= 4.5 |
| å®šæ—¶æ¸…ç† | æ¯å¤©å‡Œæ™¨ 3 ç‚¹ |

### Phase 3: é«˜é¢‘å±‚ä¸å­¦ä¹  (1 å‘¨)

- [ ] å®ç° HighFrequencyLayerService
- [ ] ä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç†
- [ ] åé¦ˆå­¦ä¹ æœºåˆ¶
- [ ] æŠ€èƒ½æ¨¡æ¿è‡ªåŠ¨æå–

### Phase 4: ä¼˜åŒ–ä¸ç›‘æ§ (æŒç»­)

- [ ] æ€§èƒ½ç›‘æ§ä»ªè¡¨ç›˜
- [ ] A/B æµ‹è¯•æ¡†æ¶
- [ ] çŸ¥è¯†è´¨é‡è¯„ä¼°
- [ ] æŒç»­è°ƒä¼˜

---

## å…«ã€æ€»ç»“

HOPE ä¸‰å±‚è®°å¿†æ¶æ„ä¸º RAG çŸ¥è¯†åº“ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„æ™ºèƒ½åŒ–è·¯å¾„ï¼š

1. **ä½é¢‘å±‚** å­˜å‚¨ç¨³å®šçš„æŠ€èƒ½çŸ¥è¯†ï¼Œå®ç°"å… LLM"çš„å³æ—¶å“åº”
2. **ä¸­é¢‘å±‚** ç®¡ç†è¿‘æœŸå­¦ä¹ å†…å®¹ï¼Œæ”¯æŒçŸ¥è¯†çš„åŠ¨æ€æ›´æ–°
3. **é«˜é¢‘å±‚** å¤„ç†å®æ—¶ä¸Šä¸‹æ–‡ï¼Œæä¾›ä¸ªæ€§åŒ–çš„ä¼šè¯ä½“éªŒ

é€šè¿‡åˆ†å±‚ç®¡ç†å’Œæ™ºèƒ½è·¯ç”±ï¼Œç³»ç»Ÿå¯ä»¥ï¼š
- ğŸš€ å¤§å¹…æå‡å“åº”é€Ÿåº¦
- ğŸ’° æ˜¾è‘—é™ä½ API æˆæœ¬
- ğŸ¯ æé«˜å›ç­”å‡†ç¡®ç‡
- ğŸ§  å®ç°æŒç»­å­¦ä¹ è¿›åŒ–

è¿™ä¸ä»…æ˜¯æŠ€æœ¯ä¼˜åŒ–ï¼Œæ›´æ˜¯è®©çŸ¥è¯†åº“ç³»ç»Ÿä»"å·¥å…·"å‘"æ™ºèƒ½åŠ©æ‰‹"è¿›åŒ–çš„å…³é”®ä¸€æ­¥ã€‚

---

**æ–‡æ¡£çŠ¶æ€**: Phase 1 âœ… å·²å®Œæˆ | Phase 2 âœ… å·²å®Œæˆ | Phase 3 å¾…å®ç°  
**ä¸‹ä¸€æ­¥**: å®ç° Phase 3 é«˜é¢‘å±‚ä¸å­¦ä¹ æœºåˆ¶

