# âœ… Release é…ç½®æ–‡ä»¶æ›´æ–°å®Œæˆ

**æ›´æ–°æ—¶é—´ï¼š** 2025-12-07  
**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

## ğŸ“ æ›´æ–°å†…å®¹æ€»ç»“

### 1. **æ–°å¢é…ç½®é¡¹** âœ…

#### 1.1 è‡ªåŠ¨ç´¢å¼•é…ç½®
```yaml
knowledge:
  qa:
    knowledge-base:
      auto-index-after-upload: true  # ä¸Šä¼ åè‡ªåŠ¨è§¦å‘å¢é‡ç´¢å¼•
```

#### 1.2 PPL æœåŠ¡å®Œæ•´é…ç½®
- æ·»åŠ äº†å®Œæ•´çš„ PPL é…ç½®ï¼ˆOllamaã€ONNXã€OpenAI ä¸‰ç§æä¾›å•†ï¼‰
- æ·»åŠ äº†é™çº§ç­–ç•¥é…ç½®
- æ·»åŠ äº† Chunking ç­–ç•¥é…ç½®ï¼ˆPPL/LLM/Autoï¼‰
- æ·»åŠ äº† Reranking é…ç½®

#### 1.3 æŸ¥è¯¢æ‰©å±•é…ç½®
```yaml
query-expansion:
  enabled: true
  use-llm-rewrite: false
  use-synonym: true
  synonym-file: ./data/synonyms.txt
```

#### 1.4 æ··åˆæ£€ç´¢é…ç½®
```yaml
vector-search:
  lucene-top-k: 100
  vector-top-k: 50
  hybrid-top-k: 30
  documents-per-query: 5
  min-score-threshold: 0.06
```

#### 1.5 LLM é…ç½®å¢å¼º
- æ·»åŠ  `max-documents-per-query: 5`
- æ·»åŠ  `enable-batch-processing: true`
- æ·»åŠ  `chunking-strategy: SMART_KEYWORD`
- æ·»åŠ å®Œæ•´çš„ chunking é…ç½®
- æ·»åŠ  AI è¯­ä¹‰åˆ‡åˆ†é…ç½®

#### 1.6 æ–‡æ¡£å¤„ç†é…ç½®å¢å¼º
```yaml
document:
  max-index-content-length: 50000
  max-chunk-content-length: 100000
  max-chunks-per-document: 50
```

#### 1.7 é—®ç­”å½’æ¡£é…ç½®
```yaml
qa-archive:
  enabled: true
  strategy: feedback-based
  min-rating: 4
  auto-index: true
```

#### 1.8 LLM ç»“æœæ–‡æ¡£åŒ–é…ç½®
```yaml
llm-result:
  storage-path: ./data/llm-results
  auto-add-to-knowledge-base: false
  max-history: 100
  auto-save: true
```

#### 1.9 æ¸è¿›å¼åˆ†æé…ç½®
```yaml
progressive-analysis:
  enabled: true
  memory-window-size: 3
  key-point-extraction: structured
```

#### 1.10 å›¾ç‰‡å‹ç¼©é…ç½®
```yaml
vision-llm:
  batch:
    compress:
      enabled: true
      quality: 0.8
      max-size-kb: 300
```

#### 1.11 åé¦ˆç³»ç»Ÿé…ç½®
```yaml
feedback:
  require-approval: false
  auto-apply: true
  like-weight-increment: 0.1
  dislike-weight-decrement: -0.15
```

#### 1.12 æ—¥å¿—å›½é™…åŒ–é…ç½®
```yaml
log:
  locale: auto
```

#### 1.13 ç¯å¢ƒé…ç½®
- æ·»åŠ  dev profile é…ç½®
- æ·»åŠ  prod profile é…ç½®

---

### 2. **æ›´æ–°çš„é…ç½®é¡¹** âœ…

#### 2.1 å‘é‡æ¨¡å‹é…ç½®
- ä» `paraphrase-multilingual` æ›´æ–°ä¸º `bge-base-zh`ï¼ˆå›½äº§æ¨¡å‹ä¼˜å…ˆï¼‰
- æ›´æ–°æ¨¡å‹æœç´¢è·¯å¾„ï¼Œå›½äº§ä¼˜å…ˆ

#### 2.2 å‘é‡æœç´¢é˜ˆå€¼
- `similarity-threshold`: 0.4 â†’ 0.5
- æ·»åŠ  `min-score-threshold: 0.06`

#### 2.3 Prompt æ¨¡æ¿
- æ·»åŠ ç¬¬ 6 æ¡è¦æ±‚ï¼šæ”¯æŒå›¾ç‰‡ Markdown æ˜¾ç¤º

---

### 3. **åˆ é™¤çš„é…ç½®é¡¹** âœ…

#### 3.1 åˆ é™¤è¿‡æ—¶çš„é…ç½®
- âŒ `smart-analysis` é…ç½®ï¼ˆå·²åºŸå¼ƒï¼‰
- âŒ æ—§ç‰ˆ `ppl-chunking` é…ç½®ï¼ˆå·²åˆå¹¶åˆ° `ppl.chunking`ï¼‰
- âŒ æ—§ç‰ˆ `feedback` æ¨¡å¼é…ç½®ï¼ˆå·²æ›´æ–°ä¸ºæ–°æ ¼å¼ï¼‰

---

## ğŸ”„ é…ç½®å¯¹æ¯”

### ä¸»è¦å·®å¼‚

| é…ç½®é¡¹ | åŸ release | æ›´æ–°å | è¯´æ˜ |
|--------|-----------|--------|------|
| è‡ªåŠ¨ç´¢å¼• | âŒ æ—  | âœ… æœ‰ | ä¸Šä¼ åè‡ªåŠ¨ç´¢å¼• |
| PPL é…ç½® | âŒ ç®€åŒ–ç‰ˆ | âœ… å®Œæ•´ç‰ˆ | æ”¯æŒä¸‰ç§æä¾›å•† |
| Chunking ç­–ç•¥ | âŒ æ—  | âœ… æœ‰ | PPL/LLM/Auto |
| æŸ¥è¯¢æ‰©å±• | âŒ æ—  | âœ… æœ‰ | åŒä¹‰è¯æ‰©å±• |
| æ··åˆæ£€ç´¢ | âŒ åŸºç¡€ | âœ… å®Œæ•´ | è¯¦ç»†å‚æ•°é…ç½® |
| æ–‡æ¡£é•¿åº¦é™åˆ¶ | âŒ æ—  | âœ… æœ‰ | é˜²æ­¢å†…å­˜æº¢å‡º |
| é—®ç­”å½’æ¡£ | âŒ æ—  | âœ… æœ‰ | è‡ªåŠ¨å½’æ¡£ |
| LLM ç»“æœæ–‡æ¡£åŒ– | âŒ æ—  | âœ… æœ‰ | å†å²ç®¡ç† |
| å›¾ç‰‡å‹ç¼© | âŒ æ—  | âœ… æœ‰ | èŠ‚çœ token |
| ç¯å¢ƒé…ç½® | âŒ æ—  | âœ… æœ‰ | dev/prod |

---

## âœ… éªŒè¯æ¸…å•

- [x] è‡ªåŠ¨ç´¢å¼•é…ç½®å·²æ·»åŠ 
- [x] PPL å®Œæ•´é…ç½®å·²æ·»åŠ 
- [x] Chunking ç­–ç•¥é…ç½®å·²æ·»åŠ 
- [x] æŸ¥è¯¢æ‰©å±•é…ç½®å·²æ·»åŠ 
- [x] æ··åˆæ£€ç´¢é…ç½®å·²æ›´æ–°
- [x] LLM é…ç½®å·²å¢å¼º
- [x] æ–‡æ¡£å¤„ç†é…ç½®å·²å®Œå–„
- [x] é—®ç­”å½’æ¡£é…ç½®å·²æ·»åŠ 
- [x] LLM ç»“æœæ–‡æ¡£åŒ–é…ç½®å·²æ·»åŠ 
- [x] æ¸è¿›å¼åˆ†æé…ç½®å·²æ·»åŠ 
- [x] å›¾ç‰‡å‹ç¼©é…ç½®å·²æ·»åŠ 
- [x] åé¦ˆç³»ç»Ÿé…ç½®å·²æ›´æ–°
- [x] æ—¥å¿—å›½é™…åŒ–é…ç½®å·²æ·»åŠ 
- [x] ç¯å¢ƒé…ç½®å·²æ·»åŠ 
- [x] è¿‡æ—¶é…ç½®å·²åˆ é™¤
- [x] å‘é‡æ¨¡å‹é…ç½®å·²æ›´æ–°ä¸ºå›½äº§ä¼˜å…ˆ

---

## ğŸ¯ é…ç½®å»ºè®®

### ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å»ºè®®

1. **è‡ªåŠ¨ç´¢å¼•**ï¼šä¿æŒ `auto-index-after-upload: true`ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
2. **PPL æä¾›å•†**ï¼šæ¨èä½¿ç”¨ `onnx` æˆ– `ollama`ï¼ˆç¦»çº¿å¯ç”¨ï¼‰
3. **å‘é‡æ£€ç´¢**ï¼šæ ¹æ®æ€§èƒ½éœ€æ±‚å†³å®šæ˜¯å¦å¯ç”¨
4. **LLM æ¨¡å‹**ï¼šæ ¹æ®æˆæœ¬é€‰æ‹©ï¼ˆDeepSeek ç»æµå®æƒ ï¼‰
5. **å›¾ç‰‡å¤„ç†**ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ç­–ç•¥ï¼ˆvision-llm æˆ– llm-clientï¼‰

### å¼€å‘ç¯å¢ƒä½¿ç”¨å»ºè®®

1. ä½¿ç”¨ `--spring.profiles.active=dev` å¯åŠ¨
2. `rebuild-on-startup: true` ç¡®ä¿æ¯æ¬¡å¯åŠ¨éƒ½é‡å»ºç´¢å¼•
3. æ—¥å¿—çº§åˆ«è®¾ä¸º `DEBUG` ä¾¿äºè°ƒè¯•

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- é¡¹ç›®é…ç½®ï¼š`src/main/resources/application.yml`
- Release é…ç½®ï¼š`release/config/application.yml`
- PPL é…ç½®è¯´æ˜ï¼šæŸ¥çœ‹é¡¹ç›®é…ç½®ä¸­çš„æ³¨é‡Š
- Chunking ç­–ç•¥ï¼š`md/20251207-LLMåˆ†å—ç­–ç•¥å®Œæˆæ€»ç»“.md`
- è‡ªåŠ¨ç´¢å¼•åŠŸèƒ½ï¼š`md/20251207-è‡ªåŠ¨ç´¢å¼•åŠŸèƒ½å®ŒæˆæŠ¥å‘Š.md`

---

**æ›´æ–°å®Œæˆï¼Release é…ç½®æ–‡ä»¶å·²ä¸é¡¹ç›®é…ç½®ä¿æŒåŒæ­¥ã€‚** ğŸ‰

