# çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿé…ç½®æ–‡ä»¶ - ç”Ÿäº§ç¯å¢ƒ
# Knowledge QA System Configuration - Production

server:
  port: 8080

  # Tomcat é…ç½®
  tomcat:
    # ä¸´æ—¶æ–‡ä»¶ç›®å½•
    basedir: ./temp
    # è¿æ¥è¶…æ—¶
    connection-timeout: 20000
    # çº¿ç¨‹é…ç½®
    threads:
      max: 200
      min-spare: 10

spring:
  application:
    name: knowledge-qa-system

  # å›½é™…åŒ–æ¶ˆæ¯æºé…ç½® (I18n Message Source Configuration)
  # ç¡®ä¿æ‰€æœ‰ messages*.properties æ–‡ä»¶ä»¥ UTF-8 ç¼–ç åŠ è½½
  messages:
    basename: messages
    encoding: UTF-8
    cache-duration: 3600
    fallback-to-system-locale: false

  # æ–‡ä»¶ä¸Šä¼ é…ç½®
  servlet:
    multipart:
      # å•ä¸ªæ–‡ä»¶æœ€å¤§å¤§å°ï¼ˆé»˜è®¤ 1MBï¼Œè°ƒæ•´ä¸º 100MBï¼‰
      max-file-size: 100MB
      # å•æ¬¡è¯·æ±‚æœ€å¤§å¤§å°ï¼ˆé»˜è®¤ 10MBï¼Œè°ƒæ•´ä¸º 100MBï¼‰
      max-request-size: 100MB
      # æ˜¯å¦å¯ç”¨æ–‡ä»¶ä¸Šä¼ 
      enabled: true
      # ä¸´æ—¶æ–‡ä»¶ä½ç½®ï¼ˆä½¿ç”¨è‡ªå®šä¹‰ç›®å½•ï¼Œé¿å…ç³»ç»Ÿä¸´æ—¶ç›®å½•æƒé™é—®é¢˜ï¼‰
      location: ./temp/uploads
      # æ–‡ä»¶å†™å…¥ç£ç›˜çš„é˜ˆå€¼ï¼ˆ0 è¡¨ç¤ºå§‹ç»ˆå†™å…¥ç£ç›˜ï¼‰
      file-size-threshold: 0

# çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿé…ç½®
knowledge:
  qa:
    # çŸ¥è¯†åº“é…ç½®
    knowledge-base:
      # çŸ¥è¯†åº“å­˜å‚¨è·¯å¾„ï¼ˆç´¢å¼•ã€å…ƒæ•°æ®ç­‰ï¼‰
      storage-path: ./data/knowledge-base

      # æ–‡æ¡£æºè·¯å¾„ï¼ˆæ”¯æŒæ–‡ä»¶å¤¹æˆ–å•ä¸ªæ–‡ä»¶ï¼‰
      # å°†æ­¤è·¯å¾„æŒ‡å‘å¤–éƒ¨æ–‡æ¡£ç›®å½•
      # ç¤ºä¾‹ï¼š
      #   - ./data/documents           # ç›¸å¯¹è·¯å¾„ï¼ˆæ¨èï¼‰
      #   - E:/æ–‡æ¡£/çŸ¥è¯†åº“             # ç»å¯¹è·¯å¾„
      #   - ./data/documents/file.xlsx # å•ä¸ªæ–‡ä»¶
      source-path: ./data/documents

      # å¯åŠ¨æ—¶ç´¢å¼•æ¨¡å¼
      # true: å®Œå…¨é‡å»ºï¼ˆåˆ é™¤æ—§ç´¢å¼•ï¼Œé‡æ–°ç´¢å¼•æ‰€æœ‰æ–‡ä»¶ï¼‰
      # false: å¢é‡ç´¢å¼•ï¼ˆåªç´¢å¼•æ–°å¢å’Œä¿®æ”¹çš„æ–‡ä»¶ï¼Œé»˜è®¤æ¨èï¼‰
      # æ³¨æ„ï¼šUIç•Œé¢å¯ä»¥éšæ—¶è§¦å‘å®Œå…¨é‡å»ºæˆ–å¢é‡ç´¢å¼•
      rebuild-on-startup: false

      # æ˜¯å¦å¯ç”¨ç¼“å­˜
      enable-cache: true

    # å‘é‡æ£€ç´¢é…ç½®
    vector-search:
      # æ˜¯å¦å¯ç”¨å‘é‡æ£€ç´¢
      # true: ä½¿ç”¨è¯­ä¹‰å‘é‡æ£€ç´¢ï¼ˆéœ€è¦æ¨¡å‹æ–‡ä»¶ï¼Œéœ€è¦å…ˆä¸‹è½½æ¨¡å‹ï¼‰
      # false: ä½¿ç”¨çº¯å…³é”®è¯æ£€ç´¢ï¼ˆæ¨èï¼Œå¼€ç®±å³ç”¨ï¼‰
      enabled: true

      # æ¨¡å‹é…ç½®
      # âš ï¸ å¯ç”¨å‘é‡æ£€ç´¢å‰ï¼Œè¯·ç¡®ä¿å·²ä¸‹è½½æ¨¡å‹æ–‡ä»¶
      # ğŸ“¥ æ¨¡å‹ä¸‹è½½ï¼š
      #    1. è®¿é—® https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
      #    2. ä¸‹è½½ model.onnx æ–‡ä»¶
      #    3. æ”¾ç½®åˆ° models/paraphrase-multilingual/ ç›®å½•
      #
      # ğŸ“ æ¨¡å‹ç›®å½•ç»“æ„ï¼š
      #    ./models/
      #      â”œâ”€â”€ paraphrase-multilingual/
      #      â”‚   â””â”€â”€ model.onnx
      #      â”œâ”€â”€ bge-m3/
      #      â”‚   â””â”€â”€ model.onnx
      #      â””â”€â”€ text2vec-base-chinese/
      #          â””â”€â”€ model.onnx
      model:
        # æ¨¡å‹åç§°ï¼ˆç”¨äºæ—¥å¿—æ˜¾ç¤ºï¼‰
        name: paraphrase-multilingual

        # æ¨¡å‹æ–‡ä»¶è·¯å¾„ï¼ˆå¤–éƒ¨è·¯å¾„ï¼Œç›¸å¯¹äºåº”ç”¨ç›®å½•ï¼‰
        # ä¼˜å…ˆçº§ï¼š
        #   1. ç»å¯¹è·¯å¾„: D:/models/xxx/model.onnx
        #   2. ç›¸å¯¹è·¯å¾„: ./models/paraphrase-multilingual/model.onnx
        #   3. classpath: models/paraphrase-multilingual/model.onnx
        path: ./models/paraphrase-multilingual/model.onnx

        # æ¨¡å‹æœç´¢è·¯å¾„ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
        search-paths:
          - bge-m3                      # BGE-M3 (æ¨è, 2024æœ€æ–°)
          - multilingual-e5-large       # Multilingual E5 Large
          - bge-large-zh                # BGE Large ZH (ä¸­æ–‡)
          - paraphrase-multilingual     # Paraphrase Multilingual
          - text2vec-base-chinese       # Text2Vec (æ—§ç‰ˆ)

        # æ¨¡å‹æ–‡ä»¶åï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
        file-names:
          - model.onnx                  # æ ‡å‡†æ¨¡å‹
          - model_O2.onnx               # ä¼˜åŒ–æ¨¡å‹
          - model_quantized.onnx        # é‡åŒ–æ¨¡å‹
          - model_quint8_avx2.onnx      # AVX2 é‡åŒ–

      # å‘é‡ç´¢å¼•å­˜å‚¨è·¯å¾„
      index-path: ./data/vector-index

      # æ£€ç´¢ç›¸ä¼¼åº¦é˜ˆå€¼ (0.0-1.0)
      similarity-threshold: 0.4

      # æ£€ç´¢è¿”å›çš„æ–‡æ¡£æ•°é‡
      top-k: 20

    # ============================================================
    # æœç´¢é…ç½®ï¼ˆåœç”¨è¯ã€å…³é”®è¯æå–ï¼‰
    # ============================================================
    search:
      # æ˜¯å¦å¯ç”¨åœç”¨è¯è¿‡æ»¤
      enable-stop-words-filter: true

      # æœ€å°å…³é”®è¯é•¿åº¦ï¼ˆå°äºæ­¤é•¿åº¦çš„è¯ä¼šè¢«è¿‡æ»¤ï¼‰
      min-keyword-length: 2

      # ä¸­æ–‡åœç”¨è¯åˆ—è¡¨ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
      chinese-stop-words:
        - çš„
        - æ˜¯
        - åœ¨
        - äº†
        - å’Œ
        - æœ‰
        - æˆ‘
        - ä½ 
        - ä»–
        - å¥¹
        - å®ƒ
        - ä»¬
        - è¿™
        - é‚£
        - ä¹‹
        - ä¸
        - åŠ
        - æˆ–

      # è‹±æ–‡åœç”¨è¯åˆ—è¡¨ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
      english-stop-words:
        - "the"
        - "a"
        - "an"
        - "in"
        - "on"
        - "at"
        - "of"
        - "for"
        - "to"
        - "and"
        - "or"
        - "but"

    # LLM é…ç½®
    llm:
      # LLM æä¾›å•†
      # å¯é€‰å€¼:
      #   - openai: OpenAI å…¼å®¹ APIï¼ˆé»˜è®¤ï¼Œæ”¯æŒ OpenAIã€DeepSeek ç­‰ï¼‰
      #   - mock: Mock æ¨¡å¼ï¼ˆæµ‹è¯•ç”¨ï¼‰
      #
      # è¯´æ˜ï¼šé€šè¿‡é…ç½®ä¸åŒçš„ api-url å’Œ model åˆ‡æ¢ä¸åŒçš„æœåŠ¡
      #   DeepSeek: api-url=https://api.deepseek.com, model=deepseek-chat
      #   OpenAI: api-url=https://api.openai.com, model=gpt-4o
      provider: openai

      # API Keyï¼ˆä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰
      # DeepSeek: set AI_API_KEY=your-deepseek-key
      # OpenAI: set OPENAI_API_KEY=your-openai-key
      # æœªè®¾ç½®æ—¶å°†ä½¿ç”¨ Mock æ¨¡å¼è¿”å›å›ºå®šå›ç­”
      api-key: ${AI_API_KEY:}

      # API ç«¯ç‚¹ï¼ˆæ ¹æ®ä½¿ç”¨çš„æœåŠ¡é…ç½®ï¼‰
      # DeepSeekï¼ˆé»˜è®¤ï¼‰: https://api.deepseek.com/v1/chat/completions
      # OpenAI: https://api.openai.com/v1/chat/completions
      api-url: https://api.deepseek.com/v1/chat/completions

      # æ¨¡å‹åç§°ï¼ˆæ ¹æ®ä½¿ç”¨çš„æœåŠ¡é…ç½®ï¼‰
      # DeepSeekï¼ˆé»˜è®¤ï¼‰: deepseek-chat
      # OpenAI: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-4, gpt-3.5-turbo
      model: deepseek-chat

      # æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆå­—ç¬¦æ•°ï¼‰
      max-context-length: 20000

      # å•æ–‡æ¡£æœ€å¤§é•¿åº¦ï¼ˆå­—ç¬¦æ•°ï¼‰
      max-doc-length: 5000

      # Prompt æç¤ºè¯æ¨¡æ¿
      # æ”¯æŒä¸¤ä¸ªå ä½ç¬¦ï¼š
      #   - {question}: ç”¨æˆ·é—®é¢˜
      #   - {context}: ç›¸å…³æ–‡æ¡£å†…å®¹
      # å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰æç¤ºè¯é£æ ¼å’Œè¦æ±‚
      prompt-template: |
        ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ¥è¯†åŠ©æ‰‹ã€‚è¯·åŸºäºæ–‡æ¡£å†…å®¹å›ç­”ç”¨æˆ·é—®é¢˜ã€‚
        
        # å›ç­”è¦æ±‚
        1. å¿…é¡»åŸºäºæ–‡æ¡£å†…å®¹å›ç­”ï¼Œä¸è¦ç¼–é€ ä¿¡æ¯
        2. å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·
        3. å›ç­”è¦æ¸…æ™°ã€å‡†ç¡®ã€æœ‰æ¡ç†
        4. å¯ä»¥å¼•ç”¨æ–‡æ¡£åç§°ä½œä¸ºä¿¡æ¯æ¥æº
        5. ä¿æŒä¸“ä¸šå‹å¥½çš„è¯­æ°”
        
        # ç”¨æˆ·é—®é¢˜
        {question}
        
        # ç›¸å…³æ–‡æ¡£
        {context}
        
        # è¯·æä¾›ä½ çš„å›ç­”ï¼š

    # æ–‡æ¡£å¤„ç†é…ç½®
    document:
      # æ”¯æŒçš„æ–‡ä»¶æ ¼å¼
      supported-formats:
        - xlsx
        - xls
        - docx
        - doc
        - pptx
        - ppt
        - pdf
        - txt
        - md
        - html
        - xml

      # æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆMBï¼‰
      max-file-size-mb: 200

      # æœ€å¤§å†…å®¹å¤§å°ï¼ˆMBï¼‰
      max-content-size-mb: 50

      # è‡ªåŠ¨åˆ†å—é˜ˆå€¼ï¼ˆMBï¼‰
      auto-chunk-threshold-mb: 2

      # æ–‡æ¡£åˆ†å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰
      chunk-size: 2000

      # æ–‡æ¡£åˆ†å—é‡å ï¼ˆå­—ç¬¦æ•°ï¼‰
      chunk-overlap: 400

      # å¹¶è¡Œå¤„ç†é…ç½®ï¼ˆğŸš€ å¤§å¹…æå‡ç´¢å¼•é€Ÿåº¦ï¼‰
      parallel-processing: true

      # å¹¶è¡Œå¤„ç†çº¿ç¨‹æ•°ï¼ˆ0 = è‡ªåŠ¨ï¼Œä½¿ç”¨ CPU æ ¸å¿ƒæ•°ï¼‰
      parallel-threads: 0

      # æ‰¹å¤„ç†å¤§å°ï¼ˆæ–‡æ¡£æ•°ï¼‰
      batch-size: 10

    # ============================================================
    # æ™ºèƒ½åˆ†æé…ç½®
    # ============================================================
    smart-analysis:
      # æ˜¯å¦å¯ç”¨æ™ºèƒ½åˆ†æ
      enabled: false

      # LLM é…ç½®ï¼ˆç”¨äºæ™ºèƒ½åˆ†æï¼‰
      llm:
        api-key: ${ANALYSIS_API_KEY:${AI_API_KEY:}}
        api-url: https://api.deepseek.com/v1/chat/completions
        model: deepseek-chat

    # ============================================================
    # åˆ†å—ä¼˜åŒ–é…ç½®ï¼ˆPPL - Perplexity Based Chunkingï¼‰
    # ============================================================
    chunking:
      # æ˜¯å¦å¯ç”¨ PPL ä¼˜åŒ–åˆ†å—
      # true: å¯ç”¨ï¼ˆéœ€è¦é…ç½® PPL æœåŠ¡ï¼‰
      # false: ä½¿ç”¨å›ºå®šé•¿åº¦åˆ†å—ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰
      ppl-enabled: false

      # PPL æœåŠ¡é…ç½®
      ppl:
        # PPL æœåŠ¡ç±»å‹:
        #   - ollama: Ollama æœ¬åœ°æœåŠ¡ï¼ˆæ¨èï¼‰
        #   - openai: OpenAI å…¼å®¹ API
        provider: ollama

        # API ç«¯ç‚¹
        # Ollama: http://localhost:11434/api/generate
        # OpenAI: https://api.openai.com/v1/completions
        api-url: http://localhost:11434/api/generate

        # æ¨¡å‹åç§°
        # Ollama: qwen2.5:7b, llama3.2:3b ç­‰
        # OpenAI: gpt-3.5-turbo-instruct ç­‰
        model: qwen2.5:7b

        # API Keyï¼ˆOpenAI éœ€è¦ï¼‰
        api-key: ${PPL_API_KEY:}

        # æœ€å¤§åºåˆ—é•¿åº¦
        max-sequence-length: 512

        # PPL åˆ†å—é˜ˆå€¼
        # å½“è¿ç»­å¥å­çš„å›°æƒ‘åº¦å˜åŒ–è¶…è¿‡æ­¤é˜ˆå€¼æ—¶åˆ‡åˆ†
        threshold: 1.5

    # ============================================================
    # åé¦ˆç³»ç»Ÿé…ç½®
    # ============================================================
    feedback:
      # åé¦ˆæ¨¡å¼:
      #   - star: æ˜Ÿçº§è¯„ä»·ï¼ˆ1-5 æ˜Ÿï¼‰
      #   - emoji: è¡¨æƒ…è¯„ä»·ï¼ˆğŸ˜€ğŸ˜ŠğŸ˜ğŸ˜ğŸ˜¢ï¼‰
      #   - like: ç‚¹èµ/ç‚¹è¸©ï¼ˆğŸ‘ğŸ‘ï¼‰
      mode: star

      # æ˜¯å¦å¯ç”¨æ–‡æ¡£çº§åé¦ˆ
      document-feedback-enabled: true

      # åé¦ˆæƒé‡è¡°å‡å› å­ï¼ˆ0.0-1.0ï¼‰
      # æ§åˆ¶å†å²åé¦ˆå¯¹å½“å‰æ£€ç´¢çš„å½±å“ç¨‹åº¦
      # 0.0: ä¸ä½¿ç”¨å†å²åé¦ˆ
      # 1.0: å®Œå…¨ä¿¡ä»»å†å²åé¦ˆ
      # æ¨è: 0.1-0.3
      weight-decay: 0.2

      # æœ€å°åé¦ˆæ¬¡æ•°é˜ˆå€¼
      # æ–‡æ¡£è‡³å°‘éœ€è¦å¤šå°‘æ¬¡åé¦ˆæ‰ä¼šå½±å“æ’åº
      min-feedback-count: 3

    # ============================================================
    # PPL ä¼˜åŒ–åˆ†å—é…ç½®ï¼ˆè¯¦ç»†ï¼‰
    # ============================================================
    ppl-chunking:
      # æ˜¯å¦å¯ç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­ï¼Œä»…åœ¨éœ€è¦æ—¶å¯ç”¨ï¼‰
      enabled: false

      # PPL æ¨¡å‹é…ç½®
      model:
        # æ¨¡å‹ç±»å‹: ollama, openai
        type: ollama

        # æ¨¡å‹åç§°
        name: qwen2.5:7b

        # API ç«¯ç‚¹
        endpoint: http://localhost:11434/api/generate

      # åˆ†å—å‚æ•°
      chunk:
        # æœ€å°å—å¤§å°ï¼ˆå­—ç¬¦ï¼‰
        min-size: 500

        # æœ€å¤§å—å¤§å°ï¼ˆå­—ç¬¦ï¼‰
        max-size: 3000

        # PPL é˜ˆå€¼
        threshold: 1.5

        # çª—å£å¤§å°ï¼ˆå¥å­æ•°ï¼‰
        window-size: 3

      # æ¯ä¸ªæ–‡æ¡£æœ€å¤§å—æ•°
      max-chunks-per-document: 50

    # å›¾ç‰‡å¤„ç†é…ç½®
    image-processing:
      # å›¾ç‰‡å¤„ç†ç­–ç•¥:
      #   - placeholder: å ä½ç¬¦ï¼ˆé»˜è®¤ï¼Œé›¶ä¾èµ–ï¼‰
      #   - vision-llm: ä½¿ç”¨ç‹¬ç«‹çš„ Vision LLM é…ç½®ï¼ˆä¸‹æ–¹ vision-llm é…ç½®èŠ‚ï¼‰
      #   - llm-client: ä½¿ç”¨ä¸» LLM å®¢æˆ·ç«¯çš„å›¾ç‰‡è¯†åˆ«åŠŸèƒ½ï¼ˆä»…å½“ä¸» LLM æ”¯æŒ Vision æ—¶æœ‰æ•ˆï¼‰
      #
      # ğŸ’¡ é‡è¦è¯´æ˜ï¼š
      #   - llm-client ç­–ç•¥è¦æ±‚ä¸» LLM æ¨¡å‹æ”¯æŒå›¾ç‰‡ï¼ˆå¦‚ gpt-4oã€qwen-vl-plusï¼‰
      #   - å¦‚æœä¸» LLM ä¸æ”¯æŒå›¾ç‰‡ï¼ˆå¦‚ deepseek-chatï¼‰ï¼Œè¯·ä½¿ç”¨ vision-llm ç­–ç•¥
      #   - vision-llm ç­–ç•¥ä½¿ç”¨ç‹¬ç«‹é…ç½®ï¼Œä¸ä¾èµ–ä¸» LLM
      #
      # æ¨èé…ç½®ï¼š
      #   - ä¸» LLM æ”¯æŒå›¾ç‰‡ï¼ˆqwen-vl-plusã€gpt-4oï¼‰â†’ ä½¿ç”¨ llm-client
      #   - ä¸» LLM ä¸æ”¯æŒå›¾ç‰‡ï¼ˆdeepseek-chatï¼‰â†’ ä½¿ç”¨ vision-llm
      strategy: vision-llm

      # å›¾ç‰‡æ–‡æœ¬åŒ–æå–æ¨¡å¼ï¼ˆImage text extraction modeï¼‰
      #   - concise: ç²¾ç®€æ¨¡å¼ï¼Œæå–å…³é”®ä¿¡æ¯ï¼Œé¿å…å†—ä½™ä½†ä¸é—æ¼é‡è¦å†…å®¹ï¼ˆèŠ‚çœ tokenï¼‰
      #   - detailed: è¯¦ç»†æ¨¡å¼ï¼Œå®Œæ•´åˆ†æå›¾ç‰‡å†…å®¹ï¼ˆæ¨èç”¨äºéœ€è¦è¯¦ç»†æè¿°çš„åœºæ™¯ï¼‰
      extraction-mode: concise

      # Vision LLM é…ç½®
      vision-llm:
        # æ˜¯å¦å¯ç”¨ï¼ˆæ··åˆæ¨¡å¼ä¸‹æ¨èå¯ç”¨ï¼‰
        enabled: true

        # API Key
        # æ–¹å¼1ï¼ˆæ¨èï¼‰ï¼šç›´æ¥é…ç½® API Key
        #   api-key: sk-your-actual-api-key
        #
        # æ–¹å¼2ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ›´å®‰å…¨ï¼‰
        #   export VISION_LLM_API_KEY=sk-your-api-key
        #   æˆ–ä½¿ç”¨ä¸» LLM çš„ API Key: export AI_API_KEY=sk-your-api-key
        #
        # å½“å‰é…ç½®: ä¼˜å…ˆä½¿ç”¨ VISION_LLM_API_KEYï¼Œå¦‚æœæœªè®¾ç½®åˆ™ä½¿ç”¨ AI_API_KEY
        # æœ¬åœ° Ollama ä¸éœ€è¦ API Key
        api-key: ${QW_API_KEY:}

        # ğŸ’¡ æç¤ºï¼šå¦‚æœè¦ç›´æ¥é…ç½® API Keyï¼Œæ›¿æ¢ä¸Šé¢ä¸€è¡Œä¸º:
        # api-key: sk-your-actual-api-key

        # æ¨¡å‹åç§°
        # OpenAI: gpt-4o, gpt-4-vision-preview
        # Anthropic: claude-3-opus
        # Google: gemini-pro-vision
        # Qwen: qwen-vl-plus
        # Ollamaï¼ˆæœ¬åœ°ï¼‰: qwen3-vl:8b, llava:7b, minicpm-v
        model: qwen-vl-plus

        # API ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰
        # OpenAI: https://api.openai.com/v1/chat/completions
        # Ollamaï¼ˆæœ¬åœ°ï¼‰: http://localhost:11434/api/chat
        endpoint: ${VISION_LLM_ENDPOINT:https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions}

        # ğŸ’¡ æç¤ºï¼šå¦‚æœè¦ç›´æ¥é…ç½®ç«¯ç‚¹ï¼Œæ›¿æ¢ä¸Šé¢ä¸€è¡Œä¸º:
        # endpoint: http://localhost:11434/api/chat

        # æ‰¹é‡å¤„ç†é…ç½®ï¼ˆé’ˆå¯¹ PPT/æ¼”ç¤ºæ–‡ç¨¿åœºæ™¯ä¼˜åŒ–ï¼‰
        batch:
          # æ˜¯å¦å¯ç”¨æ‰¹é‡å¤„ç†ï¼ˆä¸€æ¬¡å‘é€å¤šå¼ å›¾ç‰‡ï¼‰
          enabled: true

          # æ¯æ‰¹å¤„ç†çš„å›¾ç‰‡æ•°é‡
          # å»ºè®®å€¼ï¼š3-5 å¼ ï¼ˆå–å†³äºæ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶å’Œå›¾ç‰‡å¤§å°ï¼‰
          # - GPT-4o: å¯ä»¥å¤„ç† 10+ å¼ 
          # - Qwen-VL: å»ºè®® 3-5 å¼ 
          # - Claude-3: å¯ä»¥å¤„ç† 5-10 å¼ 
          size: 4

# æ—¥å¿—é…ç½®
logging:
  level:
    root: INFO
    top.yumbo.ai.rag: INFO
    org.springframework: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: ./logs/knowledge-qa-system.log

